{% extends "PageLayout.html" %}
{% block content %}
<div class="container">
  <br>
  <table id="providers" class="table table-striped">
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Services Offered</th>
          <th>Country</th>
          <th>City</th>
          <th>Postcode</th>
          <th>Rating</th>
        </tr>
      </thead>
      <tbody>
        {% for p in providers %}
          <tr>
            <td><a href="{{url_for('viewProviderProfile',id=p.id)}}">{{ p.user.fname }}</a></td>
            <td>{{ p.user.lname }}</td>
            <td>{{ p.services_offered }}</td>
            <td>{{ p.country }}</td>
            <td>{{ p.city }}</td>
            <td>{{ p.postcode }}</td>
            {% if p.rating is not none %}
              <td>{{ p.rating|round(2) }}</td>
            {% else %}
              <td>0.0</td>
            {% endif %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
</div>

<!-- Import jquery for bootstrap -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/v/bs4/jq-3.7.0/dt-2.1.8/datatables.min.js"></script>
<script src="{{ url_for('static', filename='table.js') }}"></script>
{% endblock %}